MVCC

解决了不可重复读和快照读情况下的幻读问题

MVCC就是用同一份数据临时保留多版本的方式 的方式，实现并发控制

一致性视图read-view

多版本并发控制；在数据库中用于实现并发访问，主要是为了提高数据库的并发性能，用更好的方式处理读-写冲突，实现对数据不加锁的并发读。（并发、读写冲突）

原理;

维护行记录的多个版本（两个隐藏列，分别记录行的创建时间和删除时间，通过记录事务ID实现），通过版本链和读视图来确定读取数据的版本

首先是版本链，每当有事务对数据进行修改时，创建数据的一个副本，然后对其进行修改，并记录当前修改数据的事务id，放到版本链的头部。

第二是利用事务的read view，记录了生成这个视图时系统的事务状态，记录了当前修改数据的事务id，以及当前活跃事务的最大最小id，以及生成这个视图的id，有一个可见性原则，



间隙锁：一般一条sql执行可能只会锁住满足查询条件的一行或多行，但有些情况下确是锁住某个范围，这个范围可能是满足查询条件的两条记录之间

